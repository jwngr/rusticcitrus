!function(){"use strict";function e(e){var r=o(e);a(e,r),$("#multiplayerGamePlayButton").on("click",function(){WinJS.Navigation.navigate("/pages/gameBoard/gameBoard.html",{gameType:"multiplayer",game:{gameId:e.gameId,creatorId:e.creator.id,opponentId:e.opponent.id,loggedInUsersRole:e.creator.id===RC.loggedInUser.id?"creator":"opponent",currentRound:{numLetters:r+RC.smallestNumLetters,word:e.roundWords[r],roundIndex:r}}})})}function r(e){return e.split("").reduce(function(e,r){return e*i[r]},1)}function o(e){var r=e.creator,o=e.opponent;t(r,o);var s=n(r,o,e.isLoggedInUsersTurn);return s}function t(e,r){$("#creatorInfo .playerImage").attr("src",e.imageUrl),$("#creatorInfo .playerName").text(e.firstName+" "+e.lastName[0]+"."),$(".creatorRoundSectionImage").attr("src",e.imageUrl),$("#opponentInfo .playerImage").attr("src",r.imageUrl),$("#opponentInfo .playerName").text(r.firstName+" "+r.lastName[0]+"."),$(".opponentRoundSectionImage").attr("src",r.imageUrl)}function n(e,r,o){for(var t=e.scores?e.scores.length:0,n=r.scores?r.scores.length:0,s=Math.min(t,n),a=0;s>=a;++a){var i="",d="";if(s>a?(i=e.scores[a],d=r.scores[a]):a===s&&(o?e.id===RC.loggedInUser.id?(i="Your Turn",void 0!==r.scores&&void 0!==r.scores[a]&&(d="Hidden")):(void 0!==e.scores&&void 0!==e.scores[a]&&(i="Hidden"),d="Your Turn"):e.id===RC.loggedInUser.id?(void 0!==e.scores&&void 0!==e.scores[a]&&(i=e.scores[a]),d="Their Turn"):(i="Their Turn",void 0!==r.scores&&void 0!==r.scores[a]&&(d=r.scores[a]))),i){var p=$("#creatorRound"+(a+1)+"Score");p.text(i),parseInt(i)||p.addClass("whoseTurnScore")}if(d){var p=$("#opponentRound"+(a+1)+"Score");p.text(d),parseInt(d)||p.addClass("whoseTurnScore")}}for(var c=0,u=0,a=0;s>a;++a)c+=e.scores[a],u+=r.scores[a];return $("#creatorTotalScore").text(c),$("#opponentTotalScore").text(u),s}function r(e){return e.split("").reduce(function(e,r){return e*i[r]},1)}function s(e){for(var o=r(e),t=e.length,n=[],s=0;t>s;++s)for(var a=0;t>a;++a)for(var i=0;t>i;++i)if(s!=a&&a!=i&&s!=i){var d=e[s]+e[a]+e[i];-1==$.inArray(d,n)&&n.push(d)}for(var p=[],c=n.length,s=0;c>s;++s){var u=n[s],g=RC.wordList[u];if(void 0!==g){g=g.split(",");for(var l=g.length,a=0;l>a;++a){var m=g[a].split("|"),e=u+m[0],f=parseInt(m[1]);e.length<=t&&0==o%f&&p.push(e)}}}return p.sort(function(e,r){var o=e.length-r.length;return 0!=o?o:r>e?-1:1}),p}function a(e,r){for(;void 0===RC.wordList;);for(var o=0;r>o;++o){for(var t=s(e.roundWords[o]),n=t.length,a=e.creator.foundWords[o].split(","),i=e.opponent.foundWords[o].split(","),d="",p="",c="",u=0;n>u;++u){var g=t[u],l=-1!=$.inArray(g,a),m=-1!=$.inArray(g,i);d+="<div>"+g+"</div>",p+=l?"<div>&#x2714;</div>":"<div>&nbsp;</div>",c+=m?"<div>&#x2714;</div>":"<div>&nbsp;</div>"}var f=$("#round"+(o+1)+"Section");f.find(".creatorFoundWords").append(p),f.find(".roundWords").append(d),f.find(".opponentFoundWords").append(c),f.find(".creatorTotalWordsFound").text(a.length),f.find(".opponentTotalWordsFound").text(i.length),f.find(".creatorRoundScore").text(e.creator.scores[o]),f.find(".opponentRoundScore").text(e.opponent.scores[o])}}WinJS.UI.Pages.define("/pages/multiplayerGameSummary/multiplayerGameSummary.html",{ready:function(r,o){var t=o.game;RC.debug&&(RC.assert("multiplayer"===o.gameType,"gameType is not multiplayer"),RC.assert("boolean"==typeof o.isLoggedInUsersTurn,"isLoggedInUsersTurn is not a boolean"),RC.assert("object"==typeof t,"game is not an object"),RC.assert("object"==typeof t.creator,"creator is not an object"),RC.assert("string"==typeof t.creator.firstName,"creator's first name is not a string"),RC.assert("string"==typeof t.creator.lastName,"creator's last name is not a string"),RC.assert("number"==typeof t.creator.facebookId,"creator's Facebook ID is not a number"),RC.assert("string"==typeof t.creator.gender,"creator's gender is not a string"),RC.assert("string"==typeof t.creator.imageUrl,"creator's image URL is not a string"),RC.assert("number"==typeof t.creator.timezone,"creator's time zone is not a number"),RC.assert("object"==typeof t.opponent,"opponent is not an object"),RC.assert("string"==typeof t.opponent.firstName,"opponent's first name is not a string"),RC.assert("string"==typeof t.opponent.lastName,"opponent's last name is not a string"),RC.assert("number"==typeof t.opponent.facebookId,"opponent's Facebook ID is not a number"),RC.assert("string"==typeof t.opponent.gender,"opponent's gender is not a string"),RC.assert("string"==typeof t.opponent.imageUrl,"opponent's image URL is not a string"),RC.assert("number"==typeof t.opponent.timezone,"opponent's time zone is not a number")),o.isLoggedInUsersTurn?$("#multiplayerGamePlayButton").show():$("#multiplayerGamePlayButton").hide(),t.creator.id===RC.loggedInUser.id?"creator":"opponent",RC.firebaseRoot.child("users/"+RC.loggedInUser.id+"/games/multiplayer/active/"+t.gameId+"/"),t.isLoggedInUsersTurn=o.isLoggedInUsersTurn,e(t)},unload:function(){},updateLayout:function(){}});var i={A:2,B:3,C:5,D:7,E:11,F:13,G:17,H:19,I:23,J:29,K:31,L:37,M:41,N:43,O:47,P:53,Q:59,R:61,S:67,T:71,U:73,V:79,W:83,X:89,Y:97,Z:101},i={A:2,B:3,C:5,D:7,E:11,F:13,G:17,H:19,I:23,J:29,K:31,L:37,M:41,N:43,O:47,P:53,Q:59,R:61,S:67,T:71,U:73,V:79,W:83,X:89,Y:97,Z:101}}();